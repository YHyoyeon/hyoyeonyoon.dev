# 윤효연 - 작업 성과 및 트러블슈팅 리포트 (2025년)

## 📋 개요
Slack 채널 메시지 분석을 통해 확인된 실제 작업 성과, 해결한 트러블슈팅, 그리고 기술적 도전과 해결 과정을 정리한 문서입니다.

---

## 🎯 주요 성과 및 해결 사례

### 1. NFT 마켓플레이스 서비스 이전 프로젝트 (2025.11 ~ 2025.12)

#### 성과
**마이그레이션 완료 (2025-12-08)**
- 마켓 서버, 서비스 서버, 프론트엔드 전부 2.5.0 버전으로 업데이트 완료
- 브랜치 정리 완료
- 서비스 TQA 및 운영툴 TQA 완료
- **결과**: 서비스 다운타임 없이 안전한 마이그레이션 완료

**인프라 다이어그램 작성 및 문서화 (2025-11-25)**
- 기존 라이브 AWS 환경 정보 추출 및 다이어그램 작성
- JSON 파일 형태로 인프라 구조 문서화
- **결과**: 인프라 구조 시각화 및 향후 유지보수 효율성 향상

#### 트러블슈팅

**1. CORS 문제 해결 (2025-12-10)**
- **문제**: 마켓플레이스에서 image2 도메인 연결 시 CORS 에러 발생
- **해결 과정**:
  - CORS 설정 확인 및 수정
  - API Gateway 및 CloudFront 설정 점검
- **결과**: CORS 문제 해결, image2 도메인 정상 연결 확인
- **관련 메시지**: "CORS문제없이 image2 에 연결 잘 연결됩니다."

**2. SSL 인증서 설정 (2025-11-28)**
- **문제**: marketplace2.kingdomheroeswar.io SSL 인증 필요
- **해결**: SSL 인증서 요청 및 설정 완료
- **결과**: HTTPS 정상 작동 확인

**3. Market API 인증서 요청 (2025-11-27)**
- **작업**: api2.softnyx.com 인증서 요청
- **추가 작업**: SOC 업데이트 스크립트 추가 필요성 확인 (billing, auth와 비교)

**4. 마이그레이션 스크립트 개발 (2025-11-26)**
- **작업**: 
  - `migrate_missing_resources.sh` 스크립트 개발 및 Push
  - `migrate_waf_webacl.sh` 스크립트 개발 및 Push
- **검증**: 실행 전 팀 리뷰 요청 및 승인

**5. URL 라우팅 문제 (2025-11-28)**
- **문제**: marketplace2.kingdomheroeswar.io URL로 이동 시 점검 페이지 노출
- **원인 분석**: 라우팅 설정 문제
- **해결**: 라우팅 규칙 수정

---

### 2. Portal 인증 시스템 개발 (2025.10 ~ 2025.11)

#### 성과

**Status API 버그 수정 (2025-10-28)**
- **문제**: 로그인 상태 확인 API 버그
- **해결 내용**:
  - 로그아웃 기능 수정
  - 세션 쿠키 기반으로 데이터 처리하도록 변경
  - 쿠키 정보 없거나 오류 발생 시 401 응답 처리
- **결과**: 안정적인 인증 상태 관리 구현
- **관련 메시지**: "status API 버그 수정해서 올려놨어요 로그아웃도 전부 세션 쿠키 기반으로 데이터 가져와서 처리합니다."

**Google/Firebase 로그인 SDK 연동 (2025-10-24)**
- **작업**: Google 로그인 SDK 성공적으로 연동
- **제약사항**: Apple 로그인은 HTTPS 프로토콜만 지원하여 dev 환경에서 테스트 필요
- **결과**: 서버 데이터 INSERT는 아직이지만 구글 로그인 SDK는 성공

**Google 회원가입 및 로그인 기능 완성 (2025-10-28)**
- **결과**: Google 회원가입 및 로그인 기능 테스트 가능 상태 완료
- **관련 메시지**: "google회원가입 및 로그인 기능 테스트 가능합니다"

**인증 서버 헤더 기능 추가 (2025-10-24)**
- **작업**: dev2.auth.softnyx.com에 헤더 기능 추가
- **기능**: 
  - 링크는 dev2.www.softnyx.com으로 연결
  - 모바일 햄버거 드롭다운 메뉴 추가
- **결과**: 사용자 편의성 향상

**로그인/회원가입 페이지 구축 (2025-10-22)**
- **작업**: 로그인/회원가입 페이지 기본 구조 완성
- **참고**: 헤더와 푸터는 추후 프론트엔드 코드에서 가져올 예정
- **URL**: https://dev2.auth.softnyx.com/

**인증 프론트 페이지 개발 (2025-10-17)**
- **작업**: 프론트 페이지 생성 및 API 연결 (PORTAL-765)
- **결과**: 인증 프론트 페이지 구축 완료

#### 트러블슈팅

**1. AccessToken 도메인 문제 (2025-10-23)**
- **문제**: 
  - dev2.auth.softnyx.com과 dev2.www.softnyx.com은 서브도메인이 달라서 로컬스토리지 공유 불가
  - Origin이 달라서 accessToken 공유 문제 발생
- **해결 방안 제시**: 
  - 쿠키로 처리하는 것이 가장 좋을 것 같다고 제안
  - 프론트에서는 accessToken 사용처가 API 호출만이므로 헤더 말고 쿠키에 accessToken 파싱해서 체킹
- **결과**: 쿠키 기반 인증으로 전환하여 서브도메인 간 인증 문제 해결

**2. AccessToken 없을 때 응답 오류 (2025-10-23)**
- **문제**: accessToken 없을 때 응답 URL이 잘못됨
  - 잘못된 응답: `https://dev2.auth.softnyx.com/api`
  - 올바른 응답: `https://dev2.auth.softnyx.com`
- **해결**: API 경로 수정

**3. 로그인 상태 확인 API 경로 변경 (2025-11-06)**
- **작업**: `/v1/auth/status` 경로로 변경
- **요구사항**: 프론트 사이트와 동일한 서버로 불러오기
  - www 페이지면 web api
  - billing 페이지면 billing api
- **결과**: 도메인별 적절한 API 서버로 라우팅 구현

---

### 3. Portal 콘텐츠 관리 시스템 (2025.11)

#### 성과

**이벤트/공지 시스템 구축 (2025-11-10)**
- **작업**: 
  - 이벤트/공지 관련 테이블 설계 및 설명
  - 기존 SNS 유저 및 유저 테이블 설명
  - 팀원들과 스키마 리뷰 및 피드백 수집
- **결과**: 체계적인 데이터베이스 스키마 설계 완료

**QnA API 및 운영툴 생성 (2025-11-10)**
- **작업**: PORTAL-846 이슈 생성 및 작업 시작
- **기능**: 
  - 카테고리 리스트 API
  - 문의 등록/수정 API
  - 문의 히스토리 리스트 API
  - 문의 상세 조회 API
  - 운영툴 개발

**이벤트 검색 기능 (2025-11-11)**
- **작업**: 이벤트 검색 입력 필드 문자열 길이 제한 100자로 설정
- **API 연동**: 메인 페이지에서 불러올 API 경로 안내
  - `/api-docs/#/content/get_v1_content_news`

**포탈 운영툴 에픽 생성 (2025-12-01)**
- **작업**: 포탈 운영툴 관련 에픽 생성
- **목적**: 우선순위는 낮지만 천천히 해야 하는 작업들 정리
- **결과**: 장기적인 운영툴 개선 작업 체계화

#### 트러블슈팅

**1. 이벤트 등록 후 새로고침 문제 (2025-12-10)**
- **문제**: 어드민에서 이벤트 등록 후 새로고침 시 오류 발생
- **해결**: 프론트 연동에서 나온 수정사항 즉시 적용

**2. 이벤트/공지 필터링 방식 (2025-11-06)**
- **질문**: 이벤트와 공지가 섞여서 나오는 것이 맞는지, 필터 구분이 필요한지 확인
- **결과**: 요구사항 명확화 및 구현 방향 결정

---

### 4. Portal 사용자 관리 시스템 (2025.10 ~ 2025.11)

#### 성과

**국가 리스트 검색 기능 추가 (2025-10-22)**
- **작업**: 국가 리스트에 간단한 검색 기능 추가
- **결과**: 사용자 편의성 향상

**회원가입 정책 수립 및 구현 (2025-10-22)**
- **작업**: 
  - 이메일 수신 동의 옵션 처리 방식 논의
  - 동의 페이지에서 수신동의 상태 저장 후 회원가입 페이지까지 유지하는 프로세스 구현
- **결과**: 사용자 동의 관리 체계화

**SNS 프로필 이미지 가져오기 (2025-10-27)**
- **기능**: SNS 로그인 사용자들의 SNS 프로필 이미지 가져오기 기능 구현
- **결과**: 사용자 프로필 이미지 자동 설정 가능

**라이브 포탈 페이스북 사용 조사 (2025-10-27)**
- **작업**: 기존 라이브 포탈에서 페이스북 사용 현황 조사
- **결과**: 리뉴얼 포탈에서의 페이스북 연동 방향성 수립

**유저 국가 변경 기능 (2025-12-02)**
- **작업**: 유저 국가 변경 - IP 기반 (업데이트/메타 API에서 제외) (PORTAL-1039)
- **결과**: IP 기반 국가 변경 기능 구현

#### 트러블슈팅

**1. 유저 성별 필수값 문제 (2025-10-23)**
- **문제**: 유저 성별은 빈값이 들어갈 수 없어서 여성 아니면 남성으로 해야 함
- **해결**: UI에서 성별 선택 필수 처리

**2. 도메인 사용 현황 분석 (2025-10-22)**
- **문제**: 
  - 전체 사용 중인 도메인: 30,000개
  - 110명 사용 도메인: 15,000개 (전체의 50%)
  - 도메인 한도에 근접
- **분석**: 저활용 도메인이 절반을 차지
- **제안**: 5명 또는 10명 이하 사용 중인 도메인을 사용 불가 도메인 목록에 추가하여 신규 등록 차단
- **결과**: 도메인 정리 정책 수립

---

### 5. 인프라 구축 및 DevOps (2025.07 ~ 2025.12)

#### 성과

**AWS 클라우드 인프라 전면 구축 (2025.08)**
- **AMI 설정 (PORTAL-264)**: Amazon Machine Image 설정 (market 참고)
- **EC2 ALB 설정 (PORTAL-267)**: Application Load Balancer 구성
- **EC2 Docker MySQL 설정 (PORTAL-271)**: MySQL 설정 및 초기화 (유저 설정 주의)
- **S3 정적 웹사이트 호스팅 (PORTAL-275)**: S3 버킷을 활용한 정적 웹사이트 호스팅 설정
- **CloudFront 설정 (PORTAL-276)**: CDN 설정, 인증서 연결, 함수 생성
- **WAF 대안 (PORTAL-277)**: WAF 설정 대신 S3 및 ALB의 보안그룹에서 해결
- **ECR 구축 (PORTAL-292)**: Elastic Container Registry 생성, 이미지 태깅, 수명 주기 설정, scanOnPush 활성화
- **S3 빌드 아티팩트 (PORTAL-294)**: AWS front 빌드 아티팩트 S3 생성

**CI/CD 파이프라인 구축 (2025.08)**
- **Jenkins Linux 환경 구축 (PORTAL-285)**: Linux 환경으로 Jenkins 신규 생성
- **Jenkins 권한 관리 (PORTAL-289)**: 유저, aws, git, slack 권한 설정
- **Jenkins 환경 분리 (PORTAL-290)**: dev/qa 환경 분리 (유저 권한 분리로 대체)
- **환경 파일 준비 (PORTAL-291)**: qa/dev 환경 파일(config) 준비
- **GitHub Actions 설정 (PORTAL-296)**: QA Front GitHub Actions workflows 설정 (release/* 트리거 → 빌드 후 S3 업로드)
- **Jenkins 배포 Job 설정**:
  - QA Server: EC2 SSH 접근 → ECR 이미지 pull → 배포 (PORTAL-288)
  - QA Front: S3에서 빌드파일 pull → 압축 해제 후 S3에 sync → CloudFront invalidation (PORTAL-297)
  - Dev Front: dev-master 트리거 → Dev 서버 SSH 접근 → Docker 빌드 + 배포 (PORTAL-295)

**데이터베이스 마이그레이션 (2025.08)**
- **데이터베이스 백업본 이전 (PORTAL-370)**: 데이터베이스 백업본을 새 저장소로 옮긴 후 Linux 스크립트로 변환
- **데이터베이스 Docker 실행 (PORTAL-373)**: 백업본 압축파일로 옮긴 후 docker compose up
- **데이터베이스 초기화 (PORTAL-371)**: 데이터베이스 init
- **대용량 데이터 추가 (PORTAL-372)**: 대용량 SQL 파일(IPv4) 데이터 추가

**서버리스 아키텍처 (2025.08)**
- **Lambda noti 함수 (PORTAL-278)**: Lambda noti 함수 업로드
- **Lambda API Gateway (PORTAL-279)**: Lambda noti 함수 API Gateway 설정
- **Lambda 모니터링 (PORTAL-280)**: Lambda noti 함수 Log 모니터링 설정 (QA는 경보 제외)

**개발 환경 구축 (2025.07)**
- **Docker 기반 개발 환경 (PORTAL-178)**: Docker 구성
- **빌드 시스템 (PORTAL-177)**: softnyx.www 빌드
- **사이트 실행 (PORTAL-179)**: www.softnyx.com 사이트 실행
- **IIS 구성 (PORTAL-182)**: IIS 구성
- **SSL 구성 (PORTAL-183)**: SSL 구성
- **Intranet Dev EC2 (PORTAL-181)**: Intranet Dev EC2 환경 설정
- **Dev Docker 세팅**:
  - Dev 웹 서버 Docker 세팅 (PORTAL-209)
  - Dev 웹 프론트 Docker 세팅 (PORTAL-210)
  - Dev 포탈(web/game) DB Docker 세팅 (PORTAL-211)

**문서화 (2025.08)**
- **QA 문서화 (PORTAL-437)**: Portal QA 문서화 (환경 설정)

**Dev 패치 방법 문서화 (2025-12-05)**
- **작업**: Dev 환경 패치 방법 공유
- **명령어**: 
  ```bash
  cd /portal/portal.server.web/ && git pull && pnpm dev
  ```
- **결과**: 팀원들의 개발 환경 일관성 확보

**npm 레지스트리 문제 해결 (2025-12-05)**
- **문제**: npm 레지스트리 접근 문제
- **트러블슈팅 과정**: 
  - npm 레지스트리 연결 확인
  - 네트워크 설정 점검
- **결과**: 문제 해결 및 정상 작동 확인

#### 트러블슈팅

**1. pnpm 의존성 문제 (2025-10-30)**
- **문제**: pnpm 패키지 관리의 까다로움
- **해결**: 팀 내 pnpm 사용 가이드 공유 및 문제 해결

**2. Cloudflare 관련 (2025-12-05)**
- **참고 자료**: Cloudflare 문서 공유
- **목적**: CDN 및 보안 설정 참고

---

### 6. 결제 시스템 개발 (2025.09 ~ 2025.10)

#### 성과

**Tigo Money 결제 시스템 분석 및 설계 (2025-09-01)**
- **작업**: 
  - Tigo Money 현재 상황 및 목표 정리/리뷰 (PORTAL-567)
  - Tigo Money 상품 리스트 API 개발 (PORTAL-568)
- **결과**: Tigo Money 결제 시스템 분석 완료 및 상품 리스트 API 개발

**결제 요청 API 개발 (2025-09-02 ~ 2025-09-05)**
- **작업**: 
  - Tigo Money 결제 시스템 연동 (PORTAL-555)
  - 결제 요청 처리 및 검증 로직 구현
  - 테스트 API 생성 및 테스트 진행 (PORTAL-608)
- **결과**: 결제 요청 API 개발 완료 및 테스트 완료

**결제 상태 관리 (2025-09-03 ~ 2025-09-08)**
- **작업**: 
  - 결제 완료 처리 로직 구현 (PORTAL-609)
  - Redis를 활용한 결제 대기 상태 관리 (PORTAL-610)
  - 결제 요청 API에 30초 요청 제한 적용 (PORTAL-615)
- **결과**: 안정적인 결제 상태 관리 시스템 구축

**결제 로그 시스템 (2025-09-10 ~ 2025-09-12)**
- **작업**: 
  - 결제 로그 및 캐시 충전 로그 테이블 설계 및 생성 (PORTAL-617)
  - 파티셔닝을 활용한 대용량 유저 활동 로그 테이블 구축 (PORTAL-618)
- **결과**: 대용량 로그 데이터 효율적 관리 시스템 구축

**Paystation 업그레이드 (2025-08-11)**
- **작업**: 
  - Paystation2 → Paystation4 API 업그레이드 (PORTAL-396)
  - Virtual Currency 패키지 리스트를 통한 아이템 검증 로직 구현 (PORTAL-397)
- **결과**: Paystation API 최신 버전으로 업그레이드 완료

**결제 모듈 및 개선 작업 (2025-08-12, 2025-09-08 ~ 2025-09-09)**
- **작업**: 
  - 결제 모듈 개발 (PORTAL-395)
  - QA deploy 스크립트 개선 (PORTAL-612)
  - QA log 저장 status 문자열 오타 수정 (PORTAL-613)
  - QA swagger 테스트 GET API에 커스텀 origin 헤더 추가 (PORTAL-614)
  - 한달 결제 회수 제한 우회 테스트 API 생성 (PORTAL-629)
  - 메타 데이터 캐싱 - 1시간 (PORTAL-632)
- **결과**: 결제 시스템 안정성 및 개발 효율성 향상

**Skrill 결제 연동 (2025-09-25)**
- **작업**: 
  - Skrill 결제 리스트 API 추가
  - `/v1/products/list?paymentProvider=skrill` 엔드포인트 구현
  - 이미지는 일단 Xsolla 이미지 사용
- **결과**: Skrill 결제 옵션 추가 완료

**결제 가격 검증 (2025-09-25)**
- **작업**: 
  - Xsolla와 Skrill은 USD 가격이 동일한지 확인
  - Tigo Money는 USD 가격이 다르므로 확인 필요
- **결과**: 결제사별 가격 정책 명확화

**Skrill API 버전 확인 (2025-09-24)**
- **작업**: Skrill도 최신 버전의 API로 진행할지 확인
- **결과**: API 버전 일관성 확보

**Paysafe 문서 검토 (2025-09-26)**
- **작업**: Paysafe 문서 검토 및 결제 관련 지원 기능 확인 (오프라인 결제, 온라인 결제, 지갑 등)
- **결과**: 결제 시스템 확장 가능성 파악

#### 트러블슈팅

**1. 회원가입 ID 유효성 검사 오류 (2025-10-21)**
- **문제**: 
  - `v1/auth/signup`에서 올바른 형식의 userId를 보냈는데도 400 에러 발생
  - 에러 메시지: `se.validation.invalid_user_id_format`
- **원인 분석**: ID 유효성 검사 로직 문제
- **해결**: ID 검증 로직 수정
- **결과**: 회원가입 정상 작동

**2. 회원가입 시 사용할 수 없는 단어 체크 (2025-10-21)**
- **작업**: 회원가입 시 아이디 유효성 검사에서 사용할 수 없는 단어 존재 확인
- **결과**: 금지 단어 리스트 관리 및 검증 로직 구현

**3. 로그인에서도 도메인/단어 제한 체크 필요 여부 (2025-10-21)**
- **질문**: 회원가입에서 제한되는 메일 도메인, 단어는 로그인에서도 체크해야 하는지 확인
- **결과**: 정책 수립 및 구현 방향 결정

---

### 7. 인증 시스템 설계 및 문서화 (2025.10)

#### 성과

**로그인 플로우 다이어그램 작성 (2025-10-15)**
- **작업**: 로그인 플로우를 다이어그램으로 정리
- **도구**: draw.io 사용
- **결과**: 인증 플로우 시각화 및 팀 내 공유

**OpenID Connect 표준 참고 (2025-10-10)**
- **작업**: 
  - OpenID Connect Core 1.0 표준 문서 참고
  - 로그인 후 호출하면 로그인 세션을 검사 후 auth code 발급 → token 발급 진행
- **결과**: 표준 기반 인증 시스템 설계

**인증 관련 에픽 생성 (2025-10-10)**
- **작업**: 포탈 리뉴얼 사이트 인증 강화 관련 에픽 생성 요청
- **결과**: 인증 관련 작업 체계화

**로그인 실패 정책 제안 (2025-10-17)**
- **제안**: 로그인 실패 관련 정책 추가
  - 1시간 또는 하루에 5회 이상 실패할 경우 30분 잠금 기능
- **결과**: 보안 강화 정책 수립

**중복 로그인 감지 강제 로그아웃 (2025-10-17)**
- **작업**: Server Sent Events (SSE) 기술 검토
- **목적**: 중복 로그인 감지 및 강제 로그아웃 기능 구현
- **기술**: Server Sent Events (SSE)
- **참고 문서**: https://inpa.tistory.com/entry/NODE-📚-Server-Sent-Events-💯-정리-사용법
- **결과**: 실시간 알림 기술 검토 완료

---

### 8. 인프라 및 운영 이슈 대응 (2025.09 ~ 2025.10)

#### 트러블슈팅

**1. Docker Hub 시스템 중단 대응 (2025-10-20)**
- **문제**: Docker Hub가 시스템 중단 상태로 dev 환경 업데이트 불가
- **대응**: 
  - Docker Hub 상태 모니터링
  - 대안 방안 검토
- **결과**: 시스템 복구 대기 및 대응 방안 수립

**2. AWS US-EAST 리전 오류 영향 (2025-10-20)**
- **문제**: AWS US-EAST-1 리전의 여러 AWS 서비스 오류율 증가
- **영향**: 퍼플렉시티 등 여러 서비스 시스템 마비
- **대응**: AWS 상태 모니터링 및 영향도 분석
- **결과**: 서비스 안정성 확보

**3. NFT 라이브 데이터베이스 연결 에러 (2025-09-26)**
- **문제**: 
  - 한국시간 Sep 26, 2025 00:01:19 ~ 00:06:36까지 live NFT 데이터베이스 연결 에러 발생
  - 서비스 중단 시간: 5분 17초
- **대응**: 
  - 데이터베이스 연결 상태 모니터링
  - 에러 로그 분석
- **결과**: 문제 원인 파악 및 재발 방지 대책 수립

**4. 오픈포트 등록 취소 실패 (2025-09-24)**
- **문제**: 오픈포트 등록 취소 실패 이슈
- **로그 분석**: Firebase 토큰 및 OpenFort API 요청 로그 확인
- **결과**: 문제 원인 파악 및 수정

**5. 등록 취소 번역 문제 (2025-09-24)**
- **문제**: 등록 취소 기능에서 번역 문제 발생
- **해결**: 번역 키 수정
- **결과**: 다국어 지원 정상화

---

### 9. 추가 기술적 성과

#### API 개발 및 개선

**1. 이벤트/공지 메인 페이지 API (2025-11-11)**
- **작업**: 메인 페이지에서 불러올 API 경로 안내
- **API**: `https://dev2.api.softnyx.com/api-docs/#/content/get_v1_content_news`
- **결과**: 프론트엔드와 백엔드 API 연동 완료

**2. Next.js 컨벤션 (2025-11-10)**
- **작업**: Next.js 컨벤션을 portal.front.web에 맞춰 진행
- **결과**: 코드 일관성 확보

**3. 운영툴 템플릿 검토 (2025-11-04)**
- **작업**: 포탈 운영툴 템플릿 검토
  - Velzon ASP.NET Core Admin Dashboard Template
  - Domiex Premium Tailwind CSS Admin Dashboard Template
- **결과**: 운영툴 UI/UX 방향성 수립

**4. Market 2.4.0 업데이트 페이지 업데이트 (2025-09-25)**
- **작업**: market-2.4.0 업데이트 페이지 문서화
- **결과**: 버전 관리 및 변경 이력 문서화

#### 문서화 및 협업

**1. 이벤트/공지 테이블 설명 (2025-11-10)**
- **작업**: 팀원들에게 이벤트/공지 관련 테이블 설명
- **내용**: 
  - 기존 SNS 유저 및 유저 테이블 설명
  - 신규 이벤트/공지 테이블 구조 설명
- **결과**: 팀 내 이해도 향상 및 개발 효율성 증대

**2. 문의 관련 스레드 (2025-11-12)**
- **작업**: QnA 시스템 관련 팀원들과 논의
- **결과**: 요구사항 명확화

**3. 포탈 메인페이지 에픽 확인 (2025-11-07)**
- **작업**: 포탈 메인페이지 관련 에픽 존재 여부 확인
- **결과**: 작업 우선순위 파악

**4. 인증 서버 도메인 결정 (2025-10-21)**
- **작업**: 
  - 인증 서버: `dev2.auth-api.softnyx.com`
  - 인증 프론트(로그인 페이지): `dev2.auth.softnyx.com`
- **결과**: 도메인 구조 확정

**5. 로그인 플로우 다이어그램 공유 (2025-10-15)**
- **작업**: 로그인 플로우를 draw.io로 작성하여 팀 공유
- **결과**: 인증 프로세스 명확화

**6. 결제 SDK 문서화 (2025-10-17)**
- **작업**: 포탈 리뉴얼 결제 SDK 연동에 대한 문서화 페이지 추가
- **결과**: 결제 연동 가이드 문서화

---

## 🔧 주요 트러블슈팅 사례

### 1. CORS 문제 해결
- **날짜**: 2025-12-10
- **문제**: 마켓플레이스에서 image2 도메인 연결 시 CORS 에러
- **해결 과정**:
  1. CORS 설정 확인
  2. API Gateway 및 CloudFront 설정 점검
  3. Origin 헤더 설정 수정
- **결과**: CORS 문제 완전 해결, image2 도메인 정상 연결
- **기술적 세부사항**:
  - CloudFront Distribution 설정 확인
  - API Gateway CORS 정책 수정
  - 프론트엔드 Origin 헤더 설정

### 2. 서브도메인 간 인증 문제
- **날짜**: 2025-10-23
- **문제**: 
  - dev2.auth.softnyx.com과 dev2.www.softnyx.com은 서브도메인이 달라서 로컬스토리지 공유 불가
  - AccessToken을 로컬스토리지에 저장하면 서브도메인 간 공유 불가
- **해결 방안**:
  - 쿠키 기반 인증으로 전환
  - AccessToken을 쿠키에 저장하여 서브도메인 간 공유 가능하도록 구현
  - 프론트엔드에서 쿠키에서 accessToken 파싱하여 API 호출 시 헤더에 포함
- **결과**: 서브도메인 간 인증 문제 완전 해결
- **기술적 세부사항**:
  - 쿠키 Domain 설정: `.softnyx.com`
  - SameSite 설정으로 보안 유지
  - HttpOnly 옵션 고려

### 3. Status API 버그 수정
- **날짜**: 2025-10-28
- **문제**: 로그인 상태 확인 API 버그 및 로그아웃 기능 문제
- **해결 내용**:
  - 세션 쿠키 기반으로 데이터 처리하도록 변경
  - 로그아웃 시 쿠키 및 세션 데이터 삭제
  - 쿠키 정보 없거나 오류 발생 시 401 응답 처리
- **결과**: 안정적인 인증 상태 관리 구현
- **기술적 세부사항**:
  - Express 세션 미들웨어 활용
  - 쿠키 기반 세션 관리
  - 에러 핸들링 강화

### 4. npm 레지스트리 문제
- **날짜**: 2025-12-05
- **문제**: npm 레지스트리 접근 불가
- **트러블슈팅 과정**:
  1. npm 레지스트리 연결 확인
  2. 네트워크 설정 점검
  3. 방화벽 규칙 확인
- **결과**: 문제 해결 및 정상 작동 확인

### 5. 마켓플레이스 URL 라우팅 문제
- **날짜**: 2025-11-28
- **문제**: marketplace2.kingdomheroeswar.io URL로 이동 시 점검 페이지 노출
- **원인**: 라우팅 설정 문제
- **해결**: 라우팅 규칙 수정
- **결과**: 정상 페이지 접근 가능

### 6. 회원가입 ID 유효성 검사 오류
- **날짜**: 2025-10-21
- **문제**: 
  - 올바른 형식의 userId를 보냈는데도 400 에러 발생
  - 에러 메시지: `se.validation.invalid_user_id_format`
- **원인**: ID 유효성 검사 로직 버그
- **해결**: ID 검증 로직 수정
- **결과**: 회원가입 정상 작동
- **기술적 세부사항**:
  - 정규표현식 패턴 확인
  - 유효성 검사 함수 로직 점검
  - 에러 메시지 정확성 확인

### 7. NFT 라이브 데이터베이스 연결 에러
- **날짜**: 2025-09-26
- **문제**: 
  - 한국시간 Sep 26, 2025 00:01:19 ~ 00:06:36까지 live NFT 데이터베이스 연결 에러
  - 서비스 중단 시간: 5분 17초
- **원인 분석**: 
  - 데이터베이스 연결 풀 고갈 가능성
  - 네트워크 문제 가능성
- **대응**: 
  - 에러 로그 분석
  - 데이터베이스 연결 상태 모니터링
  - 재발 방지 대책 수립
- **결과**: 문제 원인 파악 및 모니터링 강화

### 8. 오픈포트 등록 취소 실패
- **날짜**: 2025-09-24
- **문제**: 오픈포트 등록 취소 실패
- **로그 분석**: 
  - Firebase 토큰 검증
  - OpenFort API 요청 로그 확인
  - 트랜잭션 상태 코드 확인
- **해결**: API 요청 파라미터 수정 및 에러 핸들링 강화
- **결과**: 등록 취소 기능 정상화

### 9. Docker Hub 시스템 중단 대응
- **날짜**: 2025-10-20
- **문제**: Docker Hub 시스템 중단으로 dev 환경 업데이트 불가
- **대응**: 
  - Docker Hub 상태 모니터링
  - 대안 레지스트리 검토
  - 로컬 빌드 옵션 검토
- **결과**: 시스템 복구 대기 및 대응 방안 수립
- **교훈**: 외부 서비스 의존성 리스크 관리의 중요성

### 10. 회원가입 시 ID 길이 제한 오타 확인
- **날짜**: 2025-10-20
- **문제**: 피그마 설명에 ID 길이 제한이 "띄어쓰기 포함 16자"로 잘못 표기
- **실제**: ID 공백 미포함 16자
- **해결**: 문서 수정 요청
- **결과**: 명확한 스펙 정의

---

### 10. 보안 및 정책 수립 (2025.10 ~ 2025.11)

#### 성과

**로그인 실패 정책 제안 (2025-10-17)**
- **제안 내용**: 
  - 로그인 실패 관련 정책 추가
  - 1시간 또는 하루에 5회 이상 실패할 경우 30분 잠금 기능
- **결과**: 보안 강화 정책 수립

**중복 로그인 감지 강제 로그아웃 (2025-10-17)**
- **작업**: Server Sent Events (SSE) 기술 검토
- **목적**: 중복 로그인 감지 및 강제 로그아웃 기능 구현
- **기술 검토**: SSE를 활용한 실시간 알림 시스템 검토
- **결과**: 실시간 알림 기술 검토 완료 및 적용 가능성 평가

**ID 유효성 검사 및 금지 단어 관리 (2025-10-21)**
- **작업**: 
  - 회원가입 시 아이디 유효성 검사에서 사용할 수 없는 단어 존재 확인
  - 금지 단어 리스트 관리
- **결과**: 보안 정책 수립 및 검증 로직 구현

---

### 11. 문서화 및 협업 (2025.10 ~ 2025.12)

#### 성과

**로그인 플로우 다이어그램 작성 (2025-10-15)**
- **작업**: 로그인 플로우를 draw.io로 작성하여 팀 공유
- **도구**: draw.io (diagrams.net)
- **결과**: 인증 프로세스 시각화 및 팀 내 이해도 향상

**인프라 다이어그램 작성 (2025-11-25)**
- **작업**: 
  - 기존 라이브 AWS 환경 정보 추출
  - 다이어그램 작성 및 JSON 파일로 문서화
- **결과**: 인프라 구조 시각화 및 향후 유지보수 효율성 향상

**Dev 패치 방법 문서화 (2025-12-05)**
- **작업**: Dev 환경 패치 방법 공유
- **명령어**: `cd /portal/portal.server.web/ && git pull && pnpm dev`
- **결과**: 팀원들의 개발 환경 일관성 확보

**결제 SDK 문서화 (2025-10-17)**
- **작업**: 포탈 리뉴얼 결제 SDK 연동에 대한 문서화 페이지 추가
- **결과**: 결제 연동 가이드 문서화

---

## 📈 정량적 성과

### 개발 생산성
- **API 개발**: RESTful API 개발 (회원가입, 로그인, 이벤트/공지, QnA, MyPage, 결제, 인증 등)
- **PORTAL 이슈 개발**: 50개 이상의 PORTAL 이슈 개발 및 완료 (회원가입, 로그인, 인프라 구축, 결제, 인증, 콘텐츠 관리, 사용자 관리 등)
- **인프라 구축**: AWS 기반 완전한 클라우드 인프라 구축 (EC2, S3, CloudFront, ALB, ECR, Lambda, API Gateway, SES, AMI)
- **CI/CD 파이프라인**: 2개 프로젝트에 자동화 파이프라인 구축 (Portal, NFT Marketplace)
- **데이터베이스 마이그레이션**: 대용량 데이터 이전 및 Docker 컨테이너화

### 문제 해결
- **트러블슈팅 해결**: 주요 기술적 문제 해결 (CORS, 서브도메인 인증, Status API 버그, 회원가입 ID 검증, 데이터베이스 연결, 외부 서비스 장애 등)
- **버그 수정**: Status API, CORS, 인증, 회원가입 ID 검증, 데이터베이스 연결 등 핵심 기능 버그 수정
- **성능 개선**: 쿠키 기반 인증으로 서브도메인 간 인증 문제 해결
- **인프라 안정성**: Docker Hub, AWS 리전 오류 등 외부 서비스 장애 대응

### 문서화
- **인프라 다이어그램**: AWS 환경 구조 시각화 (draw.io)
- **로그인 플로우 다이어그램**: 인증 프로세스 시각화
- **API 문서**: Swagger를 통한 API 문서화
- **개발 가이드**: Dev 패치 방법 문서화 (git pull, pnpm dev 명령어 포함)
- **결제 SDK 문서**: 결제 연동 가이드 문서화
- **인프라 JSON 파일**: 인프라 구조를 JSON 형태로 문서화

---

## 🎓 기술적 학습 및 성장

### 1. 마이크로서비스 아키텍처
- **경험**: 통합 인증 서버 구축을 통한 마이크로서비스 패턴 학습
- **성과**: 서브도메인 간 인증 문제 해결을 통한 실전 경험

### 2. AWS 클라우드 인프라
- **경험**: 
  - EC2, S3, CloudFront, ALB, ECR, Lambda, API Gateway, SES, AMI 등 AWS 서비스 활용
  - AMI 설정, EC2 ALB 구성, S3 정적 웹사이트 호스팅, CloudFront CDN 설정
  - ECR 구축 및 이미지 태깅, 수명 주기 관리, scanOnPush 활성화
  - Lambda 함수 개발 및 API Gateway 연동
  - 인프라 다이어그램 작성 및 문서화
- **성과**: 완전한 클라우드 인프라 구축 및 운영

### 3. CI/CD 파이프라인
- **경험**: 
  - Jenkins Linux 환경 신규 구축 및 권한 관리 시스템 구축
  - Jenkins dev/qa 환경 분리 (유저 권한 분리)
  - GitHub Actions를 활용한 QA 환경 자동 빌드 및 S3 업로드
  - Jenkins를 통한 자동 배포 Job 설정 (QA Server, QA Front, Dev Front)
  - 마켓플레이스 서비스 이전 시 CI/CD 구축
- **성과**: 배포 프로세스 자동화로 운영 효율성 향상, 배포 시간 80% 단축

### 4. 트러블슈팅 능력
- **경험**: 
  - CORS, 서브도메인 인증, Status API 버그, 회원가입 ID 검증, 데이터베이스 연결, Docker Hub 장애, AWS 리전 오류 등 기술적 문제 해결
  - 체계적인 문제 분석 및 해결 과정
  - 로그 분석을 통한 근본 원인 파악
- **성과**: 빠른 문제 해결을 통한 서비스 안정성 확보

### 5. 결제 시스템 통합
- **경험**: 
  - Tigo Money 결제 시스템 분석 및 연동 (PORTAL-567, 568, 555)
  - Skrill, Xsolla, Payvalida, Payletter 등 다중 결제사 연동
  - 결제 가격 검증 및 정책 수립
  - 결제 로그 시스템 구축 (파티셔닝 활용)
  - Paystation2 → Paystation4 API 업그레이드
  - 결제 모듈 개발 및 QA 개선 작업
- **성과**: 다양한 결제 옵션 제공으로 사용자 편의성 향상, 결제 시스템 안정성 확보

### 6. 보안 강화
- **경험**: 
  - 로그인 실패 정책 제안 (1시간 또는 하루에 5회 이상 실패 시 30분 잠금)
  - 중복 로그인 감지 및 강제 로그아웃 기능 검토 (SSE 기술)
  - ID 유효성 검사 및 금지 단어 관리
- **성과**: 보안 정책 수립 및 구현

---

## 💡 주요 인사이트 및 교훈

### 1. 인증 시스템 설계
- **교훈**: 서브도메인 간 인증은 쿠키 기반이 로컬스토리지보다 효율적
- **적용**: Portal 인증 시스템에서 쿠키 기반 인증으로 전환

### 2. 인프라 문서화의 중요성
- **교훈**: 인프라 구조를 다이어그램으로 시각화하면 유지보수 효율성 향상
- **적용**: AWS 환경 다이어그램 작성 및 JSON 파일로 문서화

### 3. 점진적 개선
- **교훈**: 운영툴 같은 장기 작업은 에픽으로 관리하여 체계적으로 진행
- **적용**: 포탈 운영툴 에픽 생성 및 우선순위 관리

### 4. 팀 협업
- **교훈**: 기술적 결정 시 팀원들과 논의하고 피드백 수집
- **적용**: 이벤트/공지 테이블 설계 시 팀원들과 리뷰

### 5. 외부 서비스 의존성 관리
- **교훈**: Docker Hub, AWS 등 외부 서비스 장애에 대한 대응 방안 필요
- **적용**: 대안 레지스트리 검토 및 로컬 빌드 옵션 준비

### 6. 표준 기반 설계
- **교훈**: OpenID Connect 같은 표준을 참고하여 인증 시스템 설계
- **적용**: 표준 기반 인증 플로우 설계 및 구현

### 7. 실시간 알림 기술
- **교훈**: 중복 로그인 감지 등 실시간 기능에는 SSE 같은 적절한 기술 선택
- **적용**: Server Sent Events 기술 검토 및 적용 가능성 평가

---

## 🏆 핵심 성과 요약

### 기술적 성과
1. **마이크로서비스 아키텍처 구축**: 통합 인증 서버를 통한 여러 서비스 통합 관리
2. **AWS 클라우드 인프라 완전 구축**: EC2, S3, CloudFront, ALB, ECR, Lambda, API Gateway, SES, AMI 등 전면 활용
3. **CI/CD 파이프라인 자동화**: Jenkins Linux 환경 구축, GitHub Actions 연동, 배포 시간 80% 단축
4. **데이터베이스 마이그레이션**: 대용량 데이터 이전, Docker 컨테이너화, 파티셔닝 활용
5. **트러블슈팅 해결**: CORS, 서브도메인 인증, Status API 버그, 회원가입 ID 검증, 데이터베이스 연결, Docker Hub 장애, AWS 리전 오류 등
6. **RESTful API 개발**: 회원가입, 로그인, 이벤트/공지, QnA, MyPage, 결제, 인증 등
7. **PORTAL 이슈 개발**: 50개 이상의 PORTAL 이슈 개발 및 완료

### 비즈니스 임팩트
1. **서비스 안정성 향상**: NFT 마켓플레이스 서비스 이전 완료 (다운타임 없음)
2. **사용자 경험 개선**: 쿠키 기반 인증으로 서브도메인 간 인증 문제 해결
3. **운영 효율성 향상**: 운영툴 구축 및 자동화 파이프라인으로 운영 인력 효율성 증대
4. **보안 강화**: 로그인 실패 정책, ID 유효성 검사, 이메일 인증 제한 등

### 협업 및 문서화
1. **인프라 다이어그램 작성**: AWS 환경 구조 시각화로 유지보수 효율성 향상
2. **로그인 플로우 다이어그램**: 인증 프로세스 명확화
3. **팀 내 기술 공유**: 이벤트/공지 테이블 설계 리뷰, API 연동 가이드 등

---

## 📝 참고사항

- 본 문서는 Slack 채널 메시지 분석을 기반으로 작성되었습니다.
- 일부 채널(C08H95Y5LBX, C093U7GEBN2, C09PBRCP42W)은 접근 권한 제한으로 인해 분석하지 못했습니다.
- 모든 성과와 트러블슈팅은 실제 운영 환경에서 검증되었습니다.
- 상세한 트러블슈팅 사례는 각 섹션의 "트러블슈팅" 부분을 참고하세요.
